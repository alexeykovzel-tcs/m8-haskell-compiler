global account: Int = 0;
global lock: Int;

parallel 4 {
    for i: Int in 1..1000 {
        lock(lock);
        account = account + 1;
        unlock(lock);
    }
}

print(account);